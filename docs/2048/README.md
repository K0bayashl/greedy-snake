# 2048 游戏

## 游戏概述

2048是一款经典的数字益智游戏，玩家通过滑动方块将相同数字合并，最终目标是合成2048。

## 游戏规则

1. 在4x4的棋盘上，通过方向键或触摸滑动移动所有方块
2. 相同数字的方块碰撞时会合并（如2+2=4）
3. 每次移动后，棋盘会随机生成一个新方块（90%概率为2，10%概率为4）
4. 当棋盘上出现2048时，玩家获胜
5. 当棋盘填满且无法移动时，游戏结束

## 技术实现

### 文件结构

```
src/2048/
├── index.html    # 游戏页面
├── style.css     # 样式和动画
└── game.js       # 核心逻辑
```

### 核心功能

| 功能 | 说明 |
|------|------|
| 棋盘状态 | 使用4x4二维数组存储 |
| 方块移动 | 支持上下左右四个方向 |
| 合并逻辑 | 相同数字合并，每次移动每格只能合并一次 |
| 随机生成 | 90%概率生成2，10%概率生成4 |
| 计分系统 | 实时显示当前分数，localStorage存储最高分 |
| 胜负判定 | 出现2048获胜，无法移动时失败 |
| 撤销功能 | 可撤销上一步操作 |
| 动画效果 | 新方块缩放动画、合并脉冲动画 |

### 视觉特效系统

详见 [视觉特效系统文档](./effects/)

| 功能 | 说明 |
|------|------|
| 主题切换 | 原色/暗黑/霓虹三套主题 |
| 粒子效果 | 合并时触发粒子爆炸，支持三档密度 |
| 震动反馈 | 移动/合并/胜利/失败时触发震动 |
| 设置面板 | 调整粒子密度和开关特效 |

### 像素皮肤系统

详见 [像素皮肤系统文档](./pixel-skin/)

| 功能 | 说明 |
|------|------|
| 双皮肤模式 | 默认/像素两种皮肤可选 |
| 像素数字 | Canvas动态绘制，5x7点阵字体 |
| 主题适配 | 三套主题完美兼容，自动颜色适配 |
| 智能缓存 | 像素图缓存优化，主题切换自动清除 |

### 控制方式

- **键盘**：方向键（上/下/左/右）
- **触摸**：在屏幕上滑动

### 额外功能

- **重新开始**：重置游戏状态
- **撤销上一步**：恢复到移动前的状态
- **继续游戏**：获胜后可选择继续挑战更高分数

## 运行方式

```bash
start src/2048/index.html
```

## 数据存储

- **最高分**：使用 localStorage 存储，键名为 `2048HighScore`

## 项目约束

- 纯前端项目，无框架
- 无第三方依赖
- 代码风格：const/let、函数动词开头、无分号
